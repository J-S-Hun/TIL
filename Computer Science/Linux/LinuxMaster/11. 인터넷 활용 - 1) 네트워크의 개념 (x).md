### 날짜: 2023-03-06 15:48

### 주제:  네트워크 계층관련 각 종 프로토콜
---
### 메모: 
#### 통신망 종류
##### LAN
- Local Area Network
- 빌딩 내 혹은 근접한 거리의 제한된 지역에서의 고속 통신망 
###### Ethernet (IEEE802.3)
- 80년 DEC, Intel, Xerox사에서 DIX Ethernet 발표 
- 매체 접근 기술은 'CSMA/CD' 사용
###### Token Ring(IEEE802.5)
- 80년 초 IBM사에서 개발 
- **데이터는 한쪽 방향으로만 전달됨** 
- **통신 회선의 길이 제한이 없으며, 확장성이 좋지 않음** 
- 매체 접근 기술은 'Token Passing'사용
###### FDDI(Fiber Distributed Data Interface)
- 87년 ANSI 표준 위원회에 의해 발표 
- **LAN 상의 고속 스테이션 연결이나, 백본망 연결 시 사용** 
- **이중링 구조: 데이터 전송 링과 백업 링** 
- 매제 접근 기술은 'Token Passing' 사용
##### MAN
- Metropolitan Area Network 
- 몇 개의 LAN을 연결하여 백본 라인(backbone line)을 구성한다. 
- **라우터나 전송 장비 없어도 저렴하게 인터넷 서비스를 제공할 수 있다.** 
- **전송 매체로는 광섬유 또는 동축 케이블을 사용하여 45Mbps, 100Mbps의 속도를 제공한다.**
##### WAN 
- 국가, 대륙과 같은 넓은 지역을 연결하는 네트워크 
- 거리의 제한은 없으나 다양한 경로를 경유하여 도달하므로 속도가 느리고 전송 오류율이 높다. 
###### HDLC
- 전용회선 & 회선 교환망
- 시리얼 인터페이스의 기본 캡슐화 프로토콜 
- **동일 기종 간 시리얼 인터페이스 연결 시 사용(동기식)**
- **3계층 프로토콜이 일치해야 함**
###### PPP
- 전용회선 & 회선 교환망 
- **이기종 간 시리얼 인터페이스 연결 시 사용** 
- **동기식, 비동기식 모두 사용 가능** 
- **NCP와 LCP 프로토콜로 구성** 
- 인증, 압축, 콜백, 오류 검출, 멀티 링크
###### X.25
- 패킷 교환망 
- ITU-T의 표준 통신 규약 
- **패킷망에서 회선 종단 장치(IDE)와 데이터 단말 장치(DTE) 간의 상호 작용을 위한 프로토콜** 
- **가변 길이 프레임을 전송하는 프레임 릴레이의 근간이 됨** 
###### Frame-Relay
- 패킷 교환망 
- **속도에 초점을 둠** 
- **프레임 단위 전송이므로, 실시간 데이터 전송이 어려움**
###### ATM
- 패킷 교환망
- 프레임을 셀 단위로 나누어 전송 
- **셀 크기: 53바이트(48바이트(데이터) + 5바이트(헤더 정보))**
- **실시간 데이터 전송 용이**
##### SAN
- Storage Area Network
- **저장 장치를 위해 설계된 고속 네트워크** 
- **광섬유 채널로 구성되며 시스템의 종류에 영향을 받지 않고 저장 장치 간에 대용량 데이터를 전송하는 고속 네트워크** 
- 서버는 클라이언트로부터 요청받은 파일 'I/O' 요청을 직접 블록 'I/O'로 전환하여 'SAN'에 연결된 저장 장치에 전송한다. 
#### 네트워크 
##### LAN Topology
- 시스템 및 장비들의 물리적인 배치 구조를 의미한다. 
###### Star 
- 중앙 컴퓨터에 여러 대의 컴퓨터가 허브나 스위치로 연결된 구조
- 고속의 대규모 네트워크에 적합 
- 중앙 집중식 구조로, 네트워크 확장이 용이
###### Bus 
- 하나의 통신 회선에 여러 대의 컴퓨터를 연결한 구조 
- 연결된 컴퓨터 수에 따라 네트워크 성능 영향 
- 단말 장치 추가 및 제거가 용이하며, 설치 비용이 저렴 
- 컴퓨터 수 증가 시 트래픽 증가로 병목현상이 발생하여 네트워크 성능 저하 
- 장애가 발생한 노드의 위치 파악 어려움 
###### Ring
- 각 노드가 인접한 노드와 연결되어 원형을 이룬 구조 
- 토큰 패싱 방식으로 데이터 전송 
- 데이터 전송 시 충돌이 발생하지 않고, 노드 수가 증가하더라도 네트워크 성능 저하가 적음 
- 하나의 노드 장애가 전체 네트워크에 영향을 미침 
- 분산 제어와 검사 및 복구가 가능 
###### Tree 
- 버스형과 스타형 구조의 결합 구조 
- 백본 네트워크 적절한 분기 장치(허브, 스위치)를 이용하여 링크를 추가할 수 있는 구조 
- 트래픽 증가 시 병목현상 발생 가능 
###### Mesh 
- 모든 노드가 서로 일대일로 연결된 구조 
- 다량의 데이터 전송 시 적합 
- 회선 구축 비용이 많이 듦
##### 매체 접근 방식 
- 여러 터미널들이 공유 매체에 대한 충돌, 경합 발생을 제어하는 접근 방식 
###### CSMA/CD (CSMA/CA)
- Carrier Sense Multiple Access/Collision Detection
- 단말기가 전송로의 사용 여부를 확인하고 데이터를 전송하는 방식 
- 이더넷 환경에서 통신을 하고 싶은 PC나 서버는 먼저 네트워크 상에 통신이 일어나는지 확인한다. (캐리어가 있는지 검사 - Carrier Sense)
	- 캐리어가 감지되면 데이터를 보내지 않고 기다린다. 
	- 캐리어가 감지되지 않으면 데이터를 네트워크 상에 보낸다. 
	- 만약, 캐리어가 감지되지 않았을때 두 PC가 데이터를 동시에 보내면 이 경우 Multiple Access(다중 접근)이라 한다. 
	- 동시에 데이터를 보내려다 부딪히는 경우 충돌이 발생했다고 한다.
	- 충돌이 일어나게 된다면 데이터를 전송했던 두 PC나 서버들은 랜덤한 시간 동안 기다린 다음 다시 데이터를 전송한다. 
	- 이런 충돌이 계속해서 15번 일어나면 통신을 끊는다.
- **신호 처리 과정**
	1. 송신 호스트는 전송로에 반송파를 감지하여 전송 가능 여부 확인 
	2. 호스트는 전송이 가능할 경우 데이터를 전송 
	3. 충돌이 감지될 경우 잼 신호를 브로드캐스트 
	4. Back-Off 알고리즘에 따라 랜덤한 시간이 지난 후에 재전송 시도
###### Token Passing
- Token의 흐름에 의해 전송 순서를 결정된다. 
- Free Token과 Busy Token을 이용하여 전송매체에 접근을 제어한다. 
- **신호 처리 과정**
	1. 송신자는 제어신호가 'Free Token' 인지 'Busy Token'인지 확인 
	2. 'Free Token'인 경우 송신자는 'Free Token'을 'Busy Token'으로 변환하고, 데이터 전송 
	3. 송신자는 데이터 전송이 완료되면 'Busy Token'을 'Free Token'으로 전환 후 데이터 전송 완료 
#### 네트워크 장비 
##### 케이블 
- 동선 케이블, 동축 케이블, 광섬유 케이블 등이 있다. 
|              | UTP(Unshielded TP)                     | STP(Shielded TP)                  |
| ------------ | -------------------------------------- | --------------------------------- |
| 피복 여부    | 꼬임선들이 절연체로 차폐되어 있지 않음 | 꼬임선들이 절연체로 차폐되어 있음 |
| 전송 거리    | 100m                                   | 100m                              |
| 전송 속도    | 10~100Mbps                             | 최대 155Mbps                      |
| 설치 및 유지 | 설치가 쉽고 취급이 용이                | UTP보다 설치가 어려움             |
| 외부 간섭    | 전기적 간섭에 약함                     | 전기적 간섭이 없음                |
| 설치 비용    | 매우 저렴                              | 저렴                              |
| 용도         | Ethernet                               | Token Ring, Appletalk             |
- 종류
| 종류      | 유형                                       | 거리                 |
| --------- | ------------------------------------------ | -------------------- |
| 100BaseTX | EIA/TIA CAT5, 2Pair                        | 100m                 |
| 100BaseFX | 62.5/125 멀티모드 광섬유                   | 400m                 |
| 100BaseCX | STP                                        | 25m                  |
| 100BaseT  | EIA/TIA CAT5, UTP 4 Pair                   | 100m                 |
| 100BaseSX | 62.5/50 멀티모드 광섬유                    | 62.5: 275m, 50: 550m |
| 100BaseLX | 62.5/50 멀티모드 광섬유, 9 싱글모드 광섬유 | 62.5: 440m, 50: 550m, 9: 5km                     |
##### UTP 케이블 
###### straight cable
| 핀 번호 | 1    | 2   | 3    | 4   | 5    | 6   | 7    | 8   |
| ------- | ---- | --- | ---- | --- | ---- | --- | ---- | --- |
| 568-B   | 흰주 | 주  | 흰녹 | 청  | 흰청 | 녹  | 흰갈 | 갈  |
| 568-B   | 흰주 | 주  | 흰녹 | 청  | 흰청 | 녹  | 흰갈 | 갈  |
| 568-A   | 흰녹 | 녹  | 흰주 | 청  | 흰청 | 주  | 흰갈 | 갈  |
| 568-A   | 흰녹 | 녹  | 흰주 | 청  | 흰청 | 주  | 흰갈 | 갈    |
###### crossover cable
| 핀 번호 | 1    | 2   | 3    | 4   | 5    | 6   | 7    | 8   |
| ------- | ---- | --- | ---- | --- | ---- | --- | ---- | --- |
| 선 색깔 | 흰주 | 주  | 흰녹 | 청  | 흰청 | 녹  | 흰갈 | 갈  |
| 선 색깔 | 흰녹 | 녹  | 흰주 | 청  | 흰청 | 주  | 흰갈 | 갈    |
##### LAN 카드 
- 네트워크에 접속할 수 있도록 시스템 안에 설치되는 인터페이스 장비이다. 
- **데이터를 전기 신호로 변환하여 전송하고, 다시 전기 신호를 데이터로 변환하여 전송한다.** 
- **MAC 주소를 이용하여 데이터의 수신을 판별한다.**
##### Repeater
- 신호의 재생 및 증폭 기능을 수행하여 **신호의 송,수신 거리를 물리적으로 확장**한다.
##### Hub
- 신호를 노드에 전달해 주는 장비 
- 네트워크 확장, 다른 허브와의 상호 연결, 신호 증폭 등의 기능을 제공한다. 
| 종류            | 설명                                                                                  |
| --------------- | ------------------------------------------------------------------------------------- |
| 더미 허브       | 각 노드를 집중화하는 장비                                                             |
| 인탤리전트 허브 | 허브 안에 자체 중앙 처리 장치 및 버퍼를 갖춘 장비, SNMP 프로토콜을 이용하여 관리 가능 |
| 스태커블 허브   | 허브의 백본 버스를 상호 연결할 수 있도록 별도의 트렁크 포트를 갖춘 장비               |
##### Bridge
- 모든 수신 프레임을 버퍼에 저장하고, 주소에 따라 프레임을 해당 포트로 전송하는 장비이다. 
- **큰 네트워크를 작고 관리하기 쉬운 세그먼트로 나눌 필요가 있을 경우에 사용한다.** 
- **전기적으로 신호 재생 및 패킷의 송.수신 주소를 분석하여 패킷 통과 여부를 판정한다.**
##### Switch
- 브리지와 비슷한 기능을 가진 장비이다. 
- 소프트웨어 기반인 브리지보다 빠르게 데이터를 전송한다. 
- **맥 주소 테이블(MAC address table)을 기반으로 프레임을 전송한다.** 
- **전용 매체 교환 기술을 이용하여 트래픽 병목현상을 제거하고, 포트별로 속도를 보장한다.**
##### Router
- OSI 참조모델의 물리 계층, 데이터 링크 계층, 네트워크 계층을 수행하는 장비이다. 
- **서로 다른 통신망과 프로토콜을 사용하는 통신망을 상호 연결하는 장비이다.** 
- **통신망에서 데이터를 전송하기 위해 경로를 설정하는 장비이다.** 
- **목적지로 향하는 최적의 경로 설정 데이터를 목적지까지 전달하는 장비이다.**
##### Gateway
- **서로 다른 통신망과 프로토콜을 사용하는 통신망을 상호 연결하는 장비이다.** 
- **데이터 전송을 위해 두 개의 네트워크 사이에서 중계자 역할을 수행한다.**
#### 프로토콜
- 특정 통신 기능을 수행하기 위한 통신 규약을 의미한다. 
- 두 시스템 간의 정보 교환 시 발생하는 통신상의 오류를 처리하기 위해 합리적인 통제 수행한다. 
##### 구성 요소 
###### 구문(Syntax)
- 데이터 형식, 부호화 및 신호 레벨 등 
###### 의미(Semantics)
- 특정 패턴을 어떻게 해석하고, 어떤 동작을 할 것인가 결정 
- 전송제어 및 오류제어를 위한 제어 정보
###### 타이밍(Timing)
- 속도 일치 및 순서 제어 등 
##### OSI 7계층 모델과 TCP/IP 모델
| OSI 7계층 모델    | 기능                                                     | TCP/IP 모델              |
| ----------------- | -------------------------------------------------------- | ------------------------ |
| 1계층, 물리       | 물리적 연결, 전기적, 기계석, 기능적, 절차적              | 네트워크 인터페이스 계층 |
| 2계층, 데이터링크 | 데이터 전송 형식 결정, 매체 접근 방식 제공, 오류 제어    | 네트워크 인터페이스 계층 |
| 3계층, 네트워크   | 논리적 주소 사용, 최적 경로 설정, 경로 관리              | 인터넷 계층              |
| 4계층, 전송       | 종단 간(End-To-End), 응용 계층 간 논리적인 통로 제공     | 전송 계층                |
| 5계층, 세션       | 종단 간 응용 프로그램들의 연결, 유지, 해제               | 응용 계층                |
| 6계층, 표현       | 데이터의 형식, 부호화, 압축, 암호화                      | 응용 계층                |
| 7계층, 응용       | 사용자에게 다양한 서비스를 제공하기 위한 인터페이스 제공 | 응용 계층                         |
##### 네트워크 계층 프로토콜
###### IP
- Internet Protocol
- **송수신 호스트가 네트워크를 통해 패킷을 주고받는데 사용하는 프로토콜** 
- **비연결형, 비신뢰성 서비스 제공** 
- 호스트의 논리 주소 지정 
- **최대 전송 단위(Maximum Transmission Unit)를 초과하는 패킷의 단편화 및 재조립 수행**
###### ICMP
- Internet Control Message Protocol 
- **IP 전달에 대한 다양한 메시지를 전달하기 위한 프로토콜** 
- **네트워크 장치들의 오류 보고 및 이벤트 발생 시 이를 알림** 
- 호스트 간 연결을 확인하기 위한 요청과 응답 메시지 제공
###### IGMP
- Internet Group Management Protocol
- **네트워크에서 장비들이 어느 멀티캐스트 그룹에 속해 있는지 알리기 위한 그룹 관리 프로토콜** 
- 멀티캐스팅 및 그룹 관리 
###### ARP
- Address Resolution Protocol 
- **IP 주소(논리 주소)를 MAC 주소(물리 주소)로 매핑하기 위해 사용하는 프로토콜** 
- **ARP 요청은 브로드캐스트, 응답은 유니캐스트로 동작**
###### RARP
- Reverse Address Resolution Protocol 
- **MAC 주소(물리 주소)를 IP 주소(논리 주소)로 매핑하기 위해 사용하는 프로토콜**
##### 전송 계층 프로토콜 
###### TCP 3-Way Handshake
###### TCP 상태 전이 
###### TCP vs UDP
##### 응용 계층 프로토콜 
###### FTP
###### SSH
###### Telnet
###### SMTP
###### DHCP
###### TFTP
###### HTTP
###### POP3
###### IMAP
###### SNMP
#### IP 주소와 도메인 
##### IPv4
##### IPv6
##### 도메인
### 출처(참고문헌) 
- 한권으로 끝내기 리눅스 마스터 2급

### 연결문서 
- [[11. 인터넷 활용 - 2) 인터넷 서비스 종류 및 특징 (x)]]
- [[11. 인터넷 활용 - 3) 인터넷 서비스 설정 (x)]]

### Tag
- #CS/Linux 
- #LinuxMaster 