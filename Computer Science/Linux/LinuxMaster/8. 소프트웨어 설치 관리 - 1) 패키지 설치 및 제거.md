### 날짜: 2023-03-06 00:43

### 주제:  패키지 관리
---
### 메모: 
#### 패키지
- 리눅스 시스템에서 프로그램을 설치하고 관리하는 방법에는 배포본 패키지를 설치하거나 소스 코드를 컴파일 및 설치하도록 도와주는 관리 도구
##### 레드햇 계열
- 배포본
	- CentOS, RHEL, Fedora
- 패키징 도구
	- rpm, yum
##### 데비안 계열
- 배포본
	- Debian, Ubuntu, Xandros, Linspire, Kali Linux
- 패키징 도구
	- dpkg, apt-get, aptitude
#### RPM(RedHat Package Manager)
- 레드햇 사에서 개발한 패키지 관리 도구이다. 
- 패키지를 설치, 업그레이드, 제거 시 사용한다. 
- 파일 확장명은 '\*.rpm'이다. 
- 옵션 
| 명령어         | 설명                                                     |
| -------------- | -------------------------------------------------------- |
| a              | 모든 패키지 검색                                         |
| e              | 패키지 제거                                              |
| f              | 해당 파일을 포함한 패키지에 대해 질의                    |
| F              | -f 옵션과 같지만 파일명을 표준 입력에서 읽음             |
| h              | 패키지 설치 시 해시 마크 출력                            |
| i              | 패키지 설치                                              |
| K              | 서명 검증                                                |
| V              | 패키지 검증                                              |
| q              | 패키지 설치 여부 확인                                    |
| U              | 기존 패키지 업그레이드                                   |
| v              | 자세한 정보 출력                                         |
| vv             | 디버깅 정보 출력                                         |
| --force        | 기존에 설치된 패키지가 존재할 경우 강제로 설치(덮어쓰기) |
| --nodeps       | 의존성을 무시(설치 또는 제거 시)                         |
| --oldpackage   | 구버전으로 다운그레이드                                  |
| --replacepkgs  | 패키지 재설치                                            |
| --replacefiles | 설치하려는 패키지가 기존에 설치된 패키지의 파일을 교체하는 경우 rpm은 설치를 거부하나, 이 옵션을 추가하면 설치를 진행                                                         |
- 활용
- 'httpd' 패키지 설치 유무 확인(설치되어 있을 경우 패키지 정보 출력하나, 설치가 안 되어 있을 경우 정보 출력이 없다)
	- rpm -qa httpd
- 패키지 검증('httpd.conf' 파일에 'test'라는 텍스트 추가 후 검증), 변조가 없는 경우에는 메시지가 출력되지 않음 
	- rpm -V httpd 
- 검증 코드
| 코드 | 설명             | 코드 | 설명                            |
| ---- | ---------------- | ---- | ------------------------------- |
| 5    | MD5 체크섬 변경  | M    | 파일 모드(파일 유형, 권한) 변경 |
| D    | 장치 파일 변경   | S    | 파일 크기 변경                  |
| G    | 그룹명 변경      | T    | 파일 수정일 변경                |
| L    | 심볼릭 링크 변경 | U    | 사용자 변경                                |
#### yum(Yellow dog Updater Modified)
- **네트워크를 통해서 새로운 패키지 설치, 업데이트, 제거를 자동으로 수행하는 패키지 관리 도구이다.** 
- 네트워크를 기반으로 수행되는 패키지 관리자이므로,  네트워크가 정상적으로 연결되어 있어야만 한다. 
- yum 옵션, 명령어, 패키지명
- 설치
| 명령어       | 설명                                              |
| ------------ | ------------------------------------------------- |
| -y install   | 패키지 설치(설치 여부 질의에 모두 'y'로 처리)     |
| -y update    | 패키지 업데이트(설치 여부 질의에 모두 'y'로 처리) |
| localinstall | 로컬에 존재하는 패키지 설치                       |
| groupremove  | 그룹 패키지 제거                                                  |
- 제거
| 명령어      | 설명             |
| ----------- | ---------------- |
| remove      | 패키지 제거      |
| groupremove | 그룹 패키지 제거 |
- 확인
| 명령어       | 설명                                 |
| ------------ | ------------------------------------ |
| info         | 패키지 정보 출력                     |
| search       | 해당 문자열이 포함된 패키지 출력     |
| check update | **업데이트 가능한 패키지 목록 출력** |
| check-update | **업데이트가 필요한 패키지 출력**    |
| list         | 전체 패키지 정보 출력                |
| grouplist    | 그룹 패키지 정보 출력                |
| history      | 패키지 설치, 업데이트, 제거 등의 작업 이력 출력                                     |
#### dpkg(Debian Package Manager)
- **데비안의 저레벨 패키지 관리자이다.** 
- 데비안 패키지를 설치, 업데이트, 제거하는 패키지 관리자이다.
- 파일 확장자는 '\*.deb'이다.
- P 패키지 제거 
- r 설치된 패키지만 제거 
#### apt-get(Adbanced Packaging Tool Get)
- **리눅스 시스템에서 패키지를 설치, 제거, 확인하는 데비안 패키지 관리 도구이다.** 
- **네트워크를 기반으로 수행되는 패키지 관리자이므로, 네트워크가 정상적으로 연결되어 있어야 한다.**
- 패키지 설치, 확인을 위해 '/etc/apt/source.list'를 참조 할 수 있다. 
| 명령어       | 설명                                      |
| ------------ | ----------------------------------------- |
| autoremove   | 사용하지 않는 모든 패키지를 자동으로 제거 |
| autoclean    | 다운로드한 압축 파일 중 오래된 것 지우기  |
| build-dep    | 소스 패키지의 빌드 의존성 설정            |
| check        | 의존성 오류 패키지 확인                   |
| clean        | 다운로드한 압축 파일 지우기               |
| dist-upgrade | 배포판 업그레이드                         |
| download     | 현재 디렉터리로 바이너리 패키지 다운로드  |
| install      | 패키지 설치(패키지 이름은 확장자를 제외)  |
| purge        | 패키지와 환경설정 파일을 함께 제거        |
| remove       | 패키지 제거                               |
| source       | 소스 압축 파일 다운로드                   |
| update       | 새로운 패키지 목록 다운로드               |
| upgrade      | 업그레이드 실행                                          |

### 출처(참고문헌) 
- 한권으로 끝내기 리눅스 마스터 2급

### 연결문서 
- [[8. 소프트웨어 설치 관리 - 2) 소스 파일 설치 및 제거]]

### Tag
- #CS/Linux 
- #LinuxMaster 