### 날짜: 2023-01-31 14:40

### 주제: 환경변수 설정 방법
---
### 메모: 
#### 환경변수 
- **환경변수는 현재 사용하고 있는 셸(Bash 등)의 실행 파일에 대한 위치를 저장하는 변수를 말하며 변수명과 값으로 구성된다.**
##### 종류
###### 전역 변수
- 전체 셸에 영향을 미치는 변수
- 하위 셸에 기능 상속 기능 
###### 지역 변수
- 특정 사용자에게만 적용되는 변수 
- 하위 셸에 상속 불가능
##### 주요 환경변수 
- **DISPLAY**
	- X 윈도 환경에서 화면 출력을 위해 접속할 X 서버의 주소 및 장치 번호
- **HOME**
	- 사용자의 홈 디렉터리 
- **HOSTNAME** 
	- 호스트 명 
- **LANG**
	- 기본 지원 언어
- **PS1**
	- 셸 프롬프트 선언 변수
- **PS2**
	- 2차 셸 프롬프트 선언 변수
- **PWD**
	- 현재 작업 디렉터리
- **SHELL**
	- 로그인 셸
- **TERM**
	- 터미널 명 
- **TMOUT**
	- 자동 로그아웃 시간, 마지막 명령 입력 후 설정 시간이 지나면 연결이 종료된다.
- **USER** 
	- 사용자 명
##### 환경변수 관련 명령어 
- **export**
	- 환경변수 목록을 확인하는 명령어
- **echo $변수명**
	- 화면에 텍스트를 출력하는 명령어
- **export 변수명=변수값**
	- 해당 변수명에 변수값을 등록하는 명령어 
- **export 변수명=$변수명:변수값**
	- 현재 PATH에 경로를 추가하는 명령어
##### 셸 프롬프트 설정 
- 기본 프롬프트 구조: 사용자 명, 구분자, 호스트 명, 현재 디렉터리, 사용자 구분
	- d 현재 날짜를 출력(요일, 월, 일)
	- h 호스트 명 출력
	- H 도메인 명 출력 
	- n 개행 문자
	- t 24시간 단위 시간 출력
	- T 12시간 단위 시간 출력 (HH:MM:SS)
	- @ 12시간 단위 시간 출력(오전/오후)
	- u 사용자 명 출력 
	- w 현재 디렉터리 전체 절대 경로 출력 
	- W 현재 디렉터리만 출력 
	- s 현재 사용 중인 셸 출력 
	- $ 현재 사용자가 root(uid: 0)이면 '#' 아니면 '$'를 출력 
#### 배시 셸 관련 파일 
##### 전역 설정 파일 
###### /etc/profile
- 모든 사용자의 셸 환경을 제어하는 전역 설정 파일 
- 환경변수와 배시(Bash)가 실행하는 프로그램 제어
###### /etc/bashrc
- 별칭(alias)과 배시(Bash)가 실행하는 프로그램 제어
##### 지역 설정 파일 
###### ~/.bash_profile
- 개별 사용자의 셸 환경을 제어하는 지역 설정 파일 
###### ~/.bash_logout
- 로그아웃 직전에 실행되는 설정 파일
###### ~/.bash_history
- 사용자가 입력한 명령어가 저장되는 파일
- 방향키로 이전 명령어를 확인할 수 있음 
- 이전에 입력했던 명령어를 재사용 가능
###### ~/.bashrc
- 별칭과 배시가 실행하는 함수를 지역적으로 제어 
#### 배시 셸의 주요 기능 
###### history 기능 
- 사용자가 사용했던 명령어를 저장하고, 필요시 재사용할 수 있게 하는 기능
- 이전 입력했던 명령어를 방향키를 이용하여 재사용할 수 있어 복잡하거나, 긴 명령어를 입력할 때 유용한 기능이다. 
- **명령어는 기본적으로 1,000개까지 저장되며, 사용자의 홈 디렉터리의 '.bash_history' 파일에 저장된다.**
###### history 명령어
- history 옵션
	- !! 마지막으로 실행한 명령 실행
	- !n 'n'번째 명령어 실행
	- !-n 현재 행에서 'n'개 뺀 행의 명령 실행 
	- !string 가장 최근에 'string'으로 시작되는 명령 실행
	- !$, !!\$ 마지막 명령의 인자값
	- !* 마지막 실행한 명령에 사용된 인자값 
	- !?string? 
	- n 가장 최근에 실행한 명령을 n개 출력 
	- -c 히스토리 삭제 
###### history 관련 환경변수
- 종류
	- HISTSIZE 히스토리 크기 지정
	- HISTFILE 히스토리 파일 위치
	- HISTFILESIZE 히스토리 파일 크기
	- HISTCONTROL 중복되는 명령어에 대한 기록 유무
	- HISTTIMEFORMAT 히스토리 명령어 수행 시간, 출력 형태 지정 
- alias
	- 별칭으로 지정하여 작업을 편리하게 해주는 기능이다. 
	- 시스템 명령어를 단축시키기 위해 주로 사용되며, 주기적으로 사용되는 명령어에 기본 변수를 추가하기 위해 사용한다.
	- alias alias 등록 확인 
	- unalias alias 제거
#### 기출문제 정리
5. 셸의 개발 순서: Bourne Shell -> C Shell Bourne -> Korn Shell -> Bash Shell -> zsh
7. 셸 명령행에서 명령 줄이 긴 경우에 \ 기호를 이용하면 명령행을 연장할 수 있다. 명령 줄이 바뀌면서 나타나는 기호와 관련된 환경변수는 PS2이다.
	- PS1 일반적으로 사용하는 프롬프트(#, $)
	- PS2 명령이 완전히 끝나지 않을 경우 출력되는 프롬프트 (>) 
14. 명령어 
	- ps 
		- 사용자가 로그인하여 현재 이용 중인 셸을 확인할 수 있는 명령
	- env 
		- 셸의 환경변수를 확인하는 명령어 
	- set 
		- 셸의 환경변수를 선언하는 명령어 
	- chsh
		- 셸을 변경하는 명령어
15. dash 셸
	- POSIX와 호환되는 /bin/sh를 가능한 작게 구한 셸로 빠른 작업 수행이 특징이지만 history 명령 등은 원하지 않는다. 
	- dash 셸은 우분투의 기본 셸이다. 
17. 등장시기
	- csh -> tcsh -> bash 
32. Linux 셸의 환경설정 파일의 설명 
	- .login: 특정 셸에 관계없는 초기 환경을 지정하여 로그인할 때 지정한 명령을 자동 수행
	- .logout: 시스템 접속을 종료하기 전에 마지막으로 수행될 내용을 지정하는 파일
	- .newsrc: 'USENET News Group' 이용 시 그룹 환경 저장 파일
	- .eml: 메일을 원본 형식 그대로 저장한 파일 
	- .*tin: 뉴스리더인 'tin'의 환경설정 파일*
33. $HOME/.bashrc 
	- 배시 셸의 환경파일이다. 
	- 개인 사용자가 정의한 'alias'와 함수들이 있는 파일이다. 
	- 개인 사용자의 환경변수 설정도 가능히다.
34. unset 
	- 변수를 선언할 때는 '변수명=변수값' 형식을 사용하고, 선언된 변수를 해제할 때 사용하는 명령어
40. 변경할 셸을 지정할 때는 절대 경로를 입력해야 한다.
	- chsh -s bash (x)
	- chsh -s /bin/bash (o)
48. 셸 환경에서 명령어의 일부 글자만 입력해도 나머지 부분을 자동으로 완성시켜 주는 키는 Tab
86. mode, module
	- module: 프로그램을 구성하는 구성 요소의 일부 
	- Device Module: 장치에서 사용하는 드라이버를 의미
	- Raw Mode: 사용자가 입력한 키가 장치에 직접 전달되는 방식 
	- Cooked Mode: 사용자가 입력하는 모든 키가 디바이스 드라이브에 의해 해석되도록 동작시키는 방식, 일반적으로 사용하는 모드 
87. 명령어
	- wait 실행한 프로세스가 종료되는 것을 대기하게 하는 명령어 
	- interrupt 사용자가 터미널에서 Ctrl + C 키를 누르면 발생 
	- break 셸 스크립트에서 반복문을 종료할 때 사용
	- sleep 지정된 시간에 대해 아무것도 하지 않는 것, 셸 스크립트는 잠시 운영을 중단하는 상황
### 출처(참고문헌) 
- 한권으로 끝내기 리눅스 마스터 2급

### 연결문서 
- [[5. 셸 관리 - 1) 셸의 특징 및 명령어]]

### Tag
- #CS/Linux 
- #LinuxMaster 