### 날짜: 2023-03-06 00:44

### 주제:  압축 및 해제관리 
---
### 메모: 
#### 파일 아카이브와 압축
- **여러 개의 파일이나 디렉터리를 하나의 파일로 묶는 것이다.** 
- 다른 시스템으로 파일을 이동하거나 백업 시 많이 사용한다. 
- 파일 확장자는 '\*.tar'이다.

| 옵션 | 설명                                                   |
| ---- | ------------------------------------------------------ |
| A    | 지정된 파일을 아카이브에 추가                          |
| c    | 아카이브 파일 생성                                     |
| C    | 대상 디렉터리 경로 지정                                |
| d    | 아카이브와 파일 시스템 차이점 비교                     |
| e    | 첫 번째 오류 발생 시 중지                              |
| f    | 대상 아카이브 지정                                     |
| j    | 'bzip2' 압축 또는 해제                                 |
| J    | 'xz' 압축 또는 해제                                    |
| k    | 아카이브 추출 시 기존 파일 유지                        |
| p    | 아카이브 파일 생성 시 권한을 그대로 유지               |
| P    | **최상위 '/'를 포함하여 절대 경로로 관련 정보를 유지** |
| r    | 아카이브의 마지막에 파일 추가                          |
| t    | 아카이브에 포함된 내용 확인(해제하지 않음)             |
| u    | 아카이브에 포함된 파일보다 새로운 파일로 업데이트      |
| U    | 아카이브 추출 시 기존 파일 제거                        |
| v    | 처리 과정 출력                                         |
| w    | 모든 진행 과정 확인 요청                               |
| x    | 아카이브에서 파일 추출(파일 묶음 해제할 때 사용)       |
| z    | 'gzip' 압축 또는 해제                                  |
- '/root' 디렉터리에 있는 모든 파일(\*)을 'gzip'으로 압축하여 'linux.tar' 파일로 묶고(c), 그 과정을 출력(v)
	- tar -cvzf linux.tar * 
#### 파일 압축과 해제
- 대표적인 파일 압축 명령어로는 compress, gzip, bzip2, xz 등이 있다. 
- 일반적으로 많이 사용하는 명령어로는 gzip, bzip2 등이 있다.
##### gizp, gunzip
- 파일 확장자는 '.gz'이다.

| 옵션 | 설명                                                      |
| ---- | --------------------------------------------------------- |
| c    | 압축 결과를 출력하고, 원본 파일은 그대로 유지             |
| d    | 압축 해제(gunzip 과 같음)                                 |
| f    | 강제 압축                                                 |
| l    | 압축 파일의 정보 출력                                     |
| n    | 1부터 9까지 숫자로, 1이 가장 빠르지만, 압축률은 가장 낮음 |
| r    | 디렉터리를 지정 시 디렉터리에 포함된 모든 파일 압축       |
| t    | 압축 파일 테스트                                          |
| v    | 압축 혹은 해제 시 자세한 정보 출력                        |
- linux.txt 파일을 최대 압축하고 해제
	- gzip -9 linux.txt 
	- gunzip linux.txt.gz
##### bzip2, bunzip2
- 파일 확장자는 '.bz2'이다.

| 옵션 | 설명                                                   |
| ---- | ------------------------------------------------------ |
| c    | 압축하거나 압축 해제한 파일을 표준 출력으로 보냄       |
| d    | 압축 해제                                              |
| f    | **압축 혹은 해제 시 파일명이 같은 파일이 경우 덮어씀** |
| k    | 원본 파일 유지하며, 압축 또는 해제                     |
| v    | 상세한 정보 출력                                       |
| z    | 파일 압축                                              |
| 1-9  | 압축 블록 크기 지정                                    |
##### xz와 unxz 
- 확장자는 '.xz'이다.

| 옵션 | 설명                       |
| ---- | -------------------------- |
| d    | 압축 해제                  |
| l    | 압축 파일에 대한 정보 출력 |
| t    | 압축 파일의 무결성 검사    |
| z    | 파일 압축                  |
##### compress, uncompress 
- 확장자는 .z 이다.

| 옵션 | 설명                                                    |
| ---- | ------------------------------------------------------- |
| b    | 최대 비트 수 제한                                       |
| c    | 기본 생성 파일인 .Z  파일이 아닌 지정한 파일로 생성     |
| d    | 압축 해제                                               |
| f    | 압축 혹운 해제 시 파일명이 같은 파일이 있을 경우 덮어씀 |
| r    | 디렉터리 압축 시 하위 디렉터리의 파일들까지 압축        |
| v    | 압축 과정 출력                                          |
| V    | 버전 정보 출력                                                        |
##### zip, unzip 
- 확장자는 .zip 이다.

| 옵션 | 설명                       |
| ---- | -------------------------- |
| e    | **'zip' 파일에 암호 설정** |
| r    | **디렉터리까지 압축**          |
| x    | 압축 시 파일 제외          |
| 1    | 빠른 압축                  |
| 9    | 높은 압축륙                           |
##### 기타 
'bzcat', 'zcat' 등이 있으며 압축된 상태로 압축된 파일을 확인하는 명령어이다.
##### 압축 형식에 따른 압축률
- **compress < gzip < bzip2 < xz**
#### 소스 코드 설치 
- 소스 코드를 압축 해제 후 순서에 따라 컴파일하여 프로그램을 설치한다.
- 리눅스의 소스 코드는 대부분 C 언어로 작성되어 있다. 
##### 컴파일 순서 
| 1단계 | 환경설정  | ./configure  | 프로그램 설치과정에서 필요로 하는 'makefile' 생성, 시스템 파일 위치, 설치 파일 위치 등 |
| ----- | --------- | ------------ | -------------------------------------------------------------------------------------- |
| 2단계 | 컴파일    | make         | makefile을 기반으로 소스 파일을 컴파일, make가 끝나면 소스 파일은 실행 파일로 변환     |
| 3단계 | 파일 설치 | make install | 컴파일된 실행 파일을 지정된 디렉터리에 설치                                            |
##### CMake(Cross Platform Make)
- **키트웨어와 컨소시엄에서 개발했다.**
- 멀티 플랫폼을 사용할 수 있는 'make'를 대처할 프로그램을 만들기 위한 오픈 소스 프로젝트이다. 
- 기존의 make 과정을 거치지 않고 운영체제에 맞게 'make' 파일을 생성하므로 'Meta Make'라고도 한다. 
###### CMake의 특징
- 유닉스 계열은 물론 윈도 계열의 프로그램 도구도 지원
- 소프트웨어 빌드에 특화된 언어로 독자적인 설정 스크립트를 사용
- C, C++, Java 등에 대해서는 의존관계를 분석할 수 있다. 
- MS 비주얼 스튜디오를 할 수 있다. 
- eclips용 빌드 파일을 생성할 수 있다. 
- 병렬 빌드와 크로스 컴파일할 수 있다.
- 다양한 플랫폼을 지원한다. 
#### 기출문제 정리
13. -14 - 15  RPM 옵션

| 옵션  | 설명                                                    |
| ----- | ------------------------------------------------------- |
| --qf  | 지정된 파일에 대하여 질의한다.                          |
| --qp  | 설치되거나 설치되지 않은 패키지 파일에 대하여 질의한다. |
| --qip | 설치되거나 설치되지 않은 패키지 정보를 출력한다.        |
| --qfp | 설치되거나 설치되지 않은 파일에 대하여 질의한다.        |
| --qi  | 패키지 정보를 출력한다.                                 |
| --qd  | 문서 파일 목록을 출력한다.                              |
| --ql  | 패키지에 포함된 전체 파일 목록을 출력한다.              |
| --qa  | 설치된 모든 패키지를 출력한다.                          |
ql vs qa 비교
18. rpm 패키지 제거 과정 
	- rpm --erase vsftpd
25. rpm 패키지 검증
	- rpm -V vstfpd
	- S.5....T. c /etc/vsftpd/vsftpd.conf
36. yum 패키지의 명령들 확인 장소 
	- 'etc/yum.repos.d/'
43. 우분투 리눅스에서 사용하는 패키지 관리기법
	- dpkg: Debian 계열 리눅스 
43. YaSt: SUSE 리눅스
45. synaptic
	- 우분투 배포판에서 사용하는 GUI 기반 패키지 관리자이다. 
	- APT(Advanced Packaging Tool) 패키지 관리 시스템으로, 'GTK+' 기반의 GUI 도구
49. 수세(SUSE) 리눅스에서 사용하는 패키지 관리 기법의 조합
	- YaST, zypper
57. 압축 형식에 따른 압축률
	- compress < gzip < bzip2 < xz

### 출처(참고문헌) 
- 한권으로 끝내기 리눅스 마스터 2급

### 연결문서 
- [[8. 소프트웨어 설치 관리 - 1) 패키지 설치 및 제거]]

### Tag
- #CS/Linux 
- #LinuxMaster 